/* Workflow component styles */

/* Electricity animation */
@keyframes electricFlow {
  0% {
    filter: drop-shadow(0 0 2px rgba(59, 130, 246, 0.5));
  }
  50% {
    filter: drop-shadow(0 0 5px rgba(59, 130, 246, 0.8));
  }
  100% {
    filter: drop-shadow(0 0 2px rgba(59, 130, 246, 0.5));
  }
}

/* Dark mode electricity animation */
@keyframes electricFlowDark {
  0% {
    filter: drop-shadow(0 0 2px rgba(191, 161, 74, 0.5));
  }
  50% {
    filter: drop-shadow(0 0 5px rgba(191, 161, 74, 0.8));
  }
  100% {
    filter: drop-shadow(0 0 2px rgba(191, 161, 74, 0.5));
  }
}

/* Active connection class */
.workflow-edge-active path {
  animation: electricFlow 1.5s infinite;
}

/* Dark mode active connection */
.workflow-dark-mode .workflow-edge-active path {
  animation: electricFlowDark 1.5s infinite;
}

/* Edge pulse effect */
.edge-pulse-light {
  animation: edgePulseLight 2s infinite;
}

.edge-pulse-dark {
  animation: edgePulseDark 2s infinite;
}

@keyframes edgePulseLight {
  0% {
    stroke-opacity: 0.3;
  }
  50% {
    stroke-opacity: 1;
  }
  100% {
    stroke-opacity: 0.3;
  }
}

@keyframes edgePulseDark {
  0% {
    stroke-opacity: 0.3;
  }
  50% {
    stroke-opacity: 1;
  }
  100% {
    stroke-opacity: 0.3;
  }
}

/* Add this class to the ReactFlow container when edges are active */
.workflow-active-edges .react-flow__edge path {
  transition: all 0.3s ease;
}

/* Node stability improvements */
.react-flow__node {
  transition: box-shadow 0.3s ease, transform 0.05s linear;
  transform: translate3d(0, 0, 0); /* Force hardware acceleration */
  will-change: transform, opacity;
  backface-visibility: hidden;
  perspective: 1000px;
  position: absolute; /* Ensure absolute positioning */
  touch-action: none; /* Prevent default touch actions */
}

/* Prevent node content flickering */
.react-flow__node .node-content {
  position: relative;
  z-index: 1;
}

/* Active node styling */
.react-flow__node.active-node {
  z-index: 10;
  box-shadow: 0 0 0 2px #fff, 0 0 0 4px rgba(59, 130, 246, 0.5);
}

.workflow-dark-mode-flow .react-flow__node.active-node {
  box-shadow: 0 0 0 2px #fff, 0 0 0 4px rgba(191, 161, 74, 0.8);
}

/* Node handle positioning fix */
.react-flow__handle {
  background-color: #555;
  border: 2px solid white;
  width: 8px;
  height: 8px;
  position: absolute;
  pointer-events: all;
  transform: translate3d(0, 0, 0); /* Force hardware acceleration */
}

/* Improve handle hit area */
.react-flow__handle-left {
  left: -5px;
}

.react-flow__handle-right {
  right: -5px;
}

/* Add GPU acceleration to edges */
.react-flow__edge {
  transform: translate3d(0, 0, 0);
  will-change: transform;
  pointer-events: all;
}

/* Ensure edge connections don't glitch */
.react-flow__edge-path {
  transition: stroke 0.2s ease, stroke-width 0.2s ease;
} 